(function(e){function t(t){for(var n,a,s=t[0],l=t[1],c=t[2],f=0,p=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-app-2/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},i=[],a=(o("034f"),o("2877")),s={},l=Object(a["a"])(s,r,i,!1,null,null,null),c=l.exports,u=o("9483");Object(u["a"])("".concat("/vue-app-2/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=o("8c4f"),p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[e.defibrillateurs.length>0&&2===e.position.length?o("Map",{staticStyle:{width:"500px",height:"300px"},attrs:{center:{lat:parseFloat(e.position[0]),lng:parseFloat(e.position[1])},zoom:13,"map-type-id":"terrain"}},[e._l(e.defibrillateurs,(function(t,n){return t.fields.location?o("MarkerComponent",{key:n,attrs:{position:{lat:parseFloat(t.fields.location[0]),lng:parseFloat(t.fields.location[1])},clickable:!0},on:{click:function(o){return e.selectDef(t)}}}):e._e()})),e.position?o("MarkerComponent",{attrs:{position:{lat:parseFloat(e.position[0]),lng:parseFloat(e.position[1])}},on:{click:function(t){return e.viewSelf()}}}):e._e()],2):e._e(),e.selectedDef?o("Popup",{attrs:{selectedDef:e.selectedDef},on:{close:function(t){e.selectedDef=void 0}}}):e._e()],1)},d=[],v=(o("96cf"),o("1da1")),g=o("bc3a"),h=o.n(g),b=o("755e"),_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{border:"1px solid black",width:"50%","margin-top":"20px"}},[o("p",[e._v(" Lieu : "+e._s(e.selectedDef.fields.designation)+" ")]),o("p",[e._v(" Pr√©cisions : "+e._s(e.selectedDef.fields.position_precise)+" ")]),o("p",[e._v(" Jours d'ouverture : "+e._s(e.selectedDef.fields.jours_ouverture)+" ")]),o("p",[e._v(" Heure d'ouverture : "+e._s(e.selectedDef.fields.heure_ouverture)+" ")]),o("p",[e._v(" Heure fermeture : "+e._s(e.selectedDef.fields.heure_fermeture)+" ")]),o("button",{on:{click:function(t){return e.$emit("close")}}},[e._v("Close")])])},m=[],w={name:"Popup",props:{selectedDef:void 0},methods:{showDef:function(e){this.selectedDef=e}}},y=w,k=Object(a["a"])(y,_,m,!1,null,null,null),j=k.exports,D={name:"Home",components:{Map:b["Map"],MarkerComponent:b["Marker"],Popup:j},data:function(){return{selectedDef:void 0,position:[localStorage.lat,localStorage.lon],defibrillateurs:[]}},methods:{selectDef:function(e){this.selectedDef=e},viewSelf:function(){this.selectedDef={fields:{designation:"c'est vous",jours_ouverture:"",heure_ouverture:"",heure_fermeture:"",position_precise:""}}}},beforeCreate:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://data.nantesmetropole.fr/api/records/1.0/search/?dataset=244400404_defibrillateurs-nantes&q=&sort=designation&facet=nature_site").then((function(t){e.defibrillateurs=t.data.records}));case 2:return 8,t.next=5,navigator.geolocation.getCurrentPosition((function(e){localStorage.lat=e.coords.latitude,localStorage.lon=e.coords.longitude}));case 5:t.sent,e.position=[localStorage.lat,localStorage.lon];case 7:case"end":return t.stop()}}),t)})))()}},x=D,O=Object(a["a"])(x,p,d,!1,null,null,null),S=O.exports;n["a"].use(f["a"]);var P=[{path:"/",name:"Home",component:S}],M=new f["a"]({routes:P}),C=M;n["a"].config.productionTip=!1,n["a"].use(b,{load:{key:"AIzaSyDb5RvxGkCOKziqW5juAkV4IT3aW25dN_Y",libraries:"places"}}),new n["a"]({router:C,render:function(e){return e(c)}}).$mount("#app")},"85ec":function(e,t,o){}});
//# sourceMappingURL=app.bfd630c9.js.map